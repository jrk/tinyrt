//=====================================================================================================================
//
//   QBVHRaycaster.cpp
//
//   Part of the TinyRT Raytracing Library.
//   Author: Joshua Barczak
//
//   Copyright 2008 Joshua Barczak.  All rights reserved.
//   See  Doc/LICENSE.txt for terms and conditions.
//
//=====================================================================================================================

#include "QBVHRaycaster.h"



//=====================================================================================================================
//
//         Constructors/Destructors
//
//=====================================================================================================================

QBVHRaycaster::QBVHRaycaster( TestMesh* pMesh, QuadAABBTree<TestMesh>* pBVH ) : m_pTree(pBVH), TestRaycaster(pMesh)
{
}

QBVHRaycaster::~QBVHRaycaster()
{
    delete m_pTree;
}

//=====================================================================================================================
//
//            Public Methods
//
//=====================================================================================================================

void QBVHRaycaster::RaycastFirstHit( TinyRT::Ray& rRay, TinyRT::TriangleRayHit& rHitInfo )
{
    static TinyRT::ScratchMemory s;
    RaycastMultiBVH( m_pTree, GetMesh(), rRay, rHitInfo, m_pTree->GetRoot(), s);
}

//=====================================================================================================================
//
//           Protected Methods
//
//=====================================================================================================================

//=====================================================================================================================
//
//            Private Methods
//
//=====================================================================================================================
